<!doctype html>
<html lang="pt-br">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="node_modules/bootstrap/compiler/bootstrap.css" >
    <link rel="stylesheet" href="node_modules/bootstrap/compiler/">
    <link rel="stylesheet" href="/styles.css">
    
    <title>SSC0902 - Organização e Arquitetura de Computadores (2020)</title>
    
  </head>
  <body class="bg-warning">

    <header >
      <nav class="navbar navbar-dark bg-primary text-light">
        <h1>Trabalho 2 : Uma introdução ao modelo Pipeline</h1>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#menu" aria-controls="menu" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="collapse navbar-collapse" id="menu">  
          <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
            <li class="nav-item active right">
                <a class="nav-link  text-light" href="https://uspdigital.usp.br/jupiterweb/obterDisciplina?nomdis=&sgldis=ssc0902" target="_blank">Pagina da disciplna<span class="sr-only">(current)</span></a>
            </li>          
            <li class="nav-item active right">
                <a class="nav-link  text-light" href="#O que é Pipeline?" >O que é Pipeline<span class="sr-only">(current)</span></a>
            </li>          
            <li class="nav-item active right">
                <a class="nav-link  text-light" href="#Vantagens da Arquitetura MIPS para o Pipeline" >Vantagens da Arquitetura MIPS para o Pipeline<span class="sr-only">(current)</span></a>
            </li>          
            <li class="nav-item active right">
                <a class="nav-link  text-light" href="#No Pipeline MIPS, existem 5 etapas:" >As 5 etapas da arquitetura pipeline<span class="sr-only">(current)</span></a>
            </li>          
            <li class="nav-item active right">
                <a class="nav-link  text-light" href="#Características do Pipeline MIPS" >Características do Pipeline MIPS<span class="sr-only">(current)</span></a>
            </li>          
            <li class="nav-item active right">
                <a class="nav-link  text-light" href="#Comparação de performance do Pipeline com uma máquina Monociclo:" >Comparação de performance do Pipeline com uma máquina Monociclo:<span class="sr-only">(current)</span></a>
            </li>          
            <li class="nav-item active right">
                <a class="nav-link  text-light" href="#Arquitetura Mips Pipeline" >Arquitetura Mips Pipeline<span class="sr-only">(current)</span></a>
            </li>          
            <li class="nav-item active right">
              <a class="nav-link  text-light" href="#Simulacao">Simulação<span class="sr-only">(current)</span></a>
          </li>          

          </ul>       
        </div>
      </nav>
    </header>
    <main role="main" class="container bg-light" >
      
      <div class="container" id="O que é Pipeline?">
        <h2>O que é Pipeline?</h2>
        <p>
          Na computação, o pipeline é uma técnica de hardware que se baseia na divisão de instruções em etapas, 
          permitindo a execução simultânea de várias instruções, no qual cada instrução possui uma etapa distinta 
          sendo executada em uma unidade específica da CPU. 
        </p>
        <p>
          Ou seja, quando uma instrução termina de executar a sua primeira etapa e começa a executar a segunda, 
          a próxima instrução inicia a execução do seu primeiro estágio.
        </p>
        <p>
          A execução de tarefas em uma lavanderia pode ser usada como analogia ao pipeline:
        </p>
        <img src="/images/ex_sem_pipeline.png" alt="maquinas de lavar" class="img-fluid" alt="Responsive image">
        <p>
          Na primeira tabela, vemos a execução não simultânea das tarefas da lavanderia, na segunda tabela, vemos a execução simultânea (pipelined) das tarefas da lavanderia.
          Logo, a maior vantagem de se usar o pipeline é a maior eficiência.
        </p>
      </div>
     
      <div class="container" id="Vantagens da Arquitetura MIPS para o Pipeline">
        <h2>Vantagens da Arquitetura MIPS para o Pipeline</h2>
        <ul class="list-group">
          <li class="list-group-item list-group-item-action">
            Instruções possuem o mesmo tamanho
            <ul>
              <li>Facilita a busca e decodificação da instrução</li>
            </ul>
          </li>
          <li class="list-group-item list-group-item-action">
            O formato das instruções é do mesmo tamanho e varia pouco
            <ul>
              <li>Permite decodificação e leitura de registradores em uma etapa</li>
            </ul>
          </li>
          <li class="list-group-item list-group-item-action">
            Acesso de memória através de load e store
            <ul>
              <li>Permite calcular endereços em um estágio e acessar memória no estágio consecutivo</li>
            </ul>
          </li>
          <li class="list-group-item list-group-item-action">
            Alinhamento de operandos de memória
            <ul>
              <li>Acesso a memória leva apenas um ciclo</li>
            </ul>
          </li>
        </ul>
      </div>
      
      <div class="container" id="No Pipeline MIPS, existem 5 etapas:">
        <h3>No Pipeline MIPS, existem 5 etapas:</h3>
        <ul class="list-group">
          <li class="list-group-item list-group-item-action">
            1 - IF (Instruction Fetch): leitura da instrução na memória
          </li>
          <li class="list-group-item list-group-item-action">
            2 - ID (Instruction Decode): decodifica a instrução, gerando os sinais de controle, e faz leitura dos registradores 
          </li>
          <li class="list-group-item list-group-item-action">
            3 - EX (Execute Operation): realiza a execução requerida pela instrução na ULA
          </li>
          <li class="list-group-item list-group-item-action">
            4 - MEM: realiza acesso à memória para escrita ou leitura
          </li>
          <li class="list-group-item list-group-item-action">
            5 - WB (Write Back): escreve um dado específico nos registradores
          </li>
        </ul>
        <img src="images/ciclos.png" alt="ciclos"  class="img-fluid" alt="Responsive image">

        <table class="table table-striped">
          <thead class="thead-dark">
            <tr>
              <th scope="col">Instrução</th>
              <th scope="col" colspan="5" >Etapas Necessárias</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">beq</th>
              <td>IF</td>
              <td>ID</td>
              <td>EX</td>
              <td>-</td>
              <td>-</td>
            </tr>
            <tr>
              <th scope="row">Tipo-R</th>
              <td>IF</td>
              <td>ID</td>
              <td>EX</td>
              <td>-</td>
              <td>WB</td>
            </tr>
            <tr>
              <th scope="row">sw</th>
              <td>IF</td>
              <td>ID</td>
              <td>EX</td>
              <td>MEM</td>
              <td>-</td>
            </tr>
            <tr>
              <th scope="row">lw</th>
              <td>IF</td>
              <td>ID</td>
              <td>EX</td>
              <td>MEM</td>
              <td>WB</td>
            </tr>
          </tbody>
        </table>

      </div>
      

      <div class="container" id="Características do Pipeline MIPS">
        <h3>Características do Pipeline MIPS</h3>
        <ul class="list-group">
          <li class="list-group-item list-group-item-action">
            O pipeline não diminui o tempo de execução de cada tarefa, ela aumenta a vazão de toda a carga de trabalho, 
            ou seja, ela passa a executar mais instruções por unidade de tempo.
          </li>
          <li class="list-group-item list-group-item-action">
            A duração do ciclo de clock no pipeline é definido pelo estágio mais lento.          
          </li>
          <li class="list-group-item list-group-item-action">
            O speedup, ou seja, o aumento de velocidade de processamento do pipeline com uma técnica não pipeline, 
            é igual ao número de estágios do pipeline caso cada estágio tenha tamanho igual.          
          </li>
          <li class="list-group-item list-group-item-action">
            O speedup diminui com o tempo para “encher” o pipeline.
            <ul>
              <li>Um pipeline com 5 estágios precisa de 5 ciclos para encher o pipeline.</li>
              <li>Durante os 4 primeiros ciclos nenhuma instrução é finalizada.</li>
            </ul>
          </li>
        </ul>
        <p>
          Logo, um pipeline com  etapas, no qual cada estapa leva  unidades de tempo, então o tempo necessário para executar  instruções é : <br>
          k.t + (n-1).t <br>
          Onde k.t é o tempo necessário para encher o pipeline.
        </p>
      </div>

      <div class="container" id="Comparação de performance do Pipeline com uma máquina Monociclo:">
        <h3>Comparação de performance do Pipeline com uma máquina Monociclo:</h3>
        <img src="/images/comparacao.png" alt="comparacao" class="img-fluid" alt="Responsive image">
        <ul class="list-group">
          <li class="list-group-item list-group-item-action">
            <p>A sequência de instruções é mostrada verticalmente, de cima para baixo.</p>
          </li>
          <li class="list-group-item list-group-item-action">
            <p>Os ciclos de clocks são mostrados horizontalmente, da esquerda pra direita.</p>
          </li>
          <li class="list-group-item list-group-item-action">
            <p>Cada instrução é dividida entre seus 5 estágios.</p>
          </li>
          <li class="list-group-item list-group-item-action">
            <p>O pipeline possui registradores que separam cada estágio.</p>
          </li>
          <li class="list-group-item list-group-item-action">
            <p>Entre cada unidade da CPU capaz de executar um estágio existe um banco de registradores 
              para armazenar os dados que passam por essas unidades durante a execução dos estágios.
            </p>
          </li>
        </ul>
      </div>

      <div class="container" id="Arquitetura Mips Pipeline">
        <h3>Arquitetura Mips Pipeline</h3>
        <img src="/images/arquiteturaPipeline.png" alt="Mips" class="img-fluid" alt="Responsive image">
        <h4>Conjunto de registradores intermediários</h4>
        <ul class="list-group">
          <li class="list-group-item list-group-item-action bg-dark text-light">IF/ID: separa os estágios IF e ID</li>
          <li class="list-group-item list-group-item-action"> IF/ID.NPC: guarda o PC + 4 calculado no IF</li>
          <li class="list-group-item list-group-item-action">IF/ID.IR: guarda a instrução lida em IF</li>
        
          <li class="list-group-item list-group-item-action bg-dark text-light">ID/EX: separa os estágios ID e EX</li>
          <li class="list-group-item list-group-item-action"> ID/EX.NPC: guarda o PC + 4 calculado no IF</li>
          <li class="list-group-item list-group-item-action">ID/EX.A: armazena o conteúdo que foi lido do registrador 1</li>
          <li class="list-group-item list-group-item-action">ID/EX.B: armazena o conteúdo que foi lido do registrador 2</li>
          <li class="list-group-item list-group-item-action">ID/EX.IMM: guarda o valor imediato da instrução</li>
          <li class="list-group-item list-group-item-action">ID/EX.IR[20-16]: guarda o valor armazenado nas posições entre 20 e 16 da instrução</li>
          <li class="list-group-item list-group-item-action">ID/EX.IR[15-11]: guarda o valor armazenado nas posições entre 15 e 11 da instrução</li>

          <li class="list-group-item list-group-item-action bg-dark text-light">EX/MEM: separa os estágios EX e MEM</li>
          <li class="list-group-item list-group-item-action">EX/MEM.BranchTarget: armazena o resultado da posição de destino em caso de branch</li>
          <li class="list-group-item list-group-item-action">EX/MEM.ALUoutput: armazena o resultado da operação realiza pela ULA</li>
          <li class="list-group-item list-group-item-action">EX/MEM.B: armazena o conteúdo que foi lido do registrador 2 no ID</li>
          <li class="list-group-item list-group-item-action">EX/MEM.Rd: guarda o endereço do registrador que receberá um dado no WB</li>

          <li class="list-group-item list-group-item-action bg-dark text-light">MEM/WB: separa os estágios MEM e WB</li>
          <li class="list-group-item list-group-item-action">MEM/WB.LMD: guarda os dados de saída da memória</li>
          <li class="list-group-item list-group-item-action">MEM/WB.ALUoutput: armazena o resultado da operação realiza pela ULA</li>
          <li class="list-group-item list-group-item-action">MEM/WB.Rd: guarda o endereço do registrador que receberá um dado no WB</li>
        </ul>
      </div>

      <div class="container" id="Simulacao">

        <h2>Simulação</h2>
        <div id="carousel" class="carousel slide" data-ride="carousel">
          <ol class="carousel-indicators">
            <li data-target="#carousel" data-slide-to="0" class="active"></li>
            <li data-target="#carousel" data-slide-to="1"></li>
            <li data-target="#carousel" data-slide-to="2"></li>
            <li data-target="#carousel" data-slide-to="3"></li>
            <li data-target="#carousel" data-slide-to="4"></li>
          </ol>

          <div class="carousel-inner">
            <div class="carousel-item active">
              <img class="d-block w-100 img-fluid" src="/images/1.png" alt="First slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100 img-fluid" src="/images/2.png" alt="Second slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100 img-fluid" src="/images/3.png" alt="Third slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100 img-fluid" src="/images/4.png" alt="Third slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100 img-fluid" src="/images/5.png" alt="Third slide">
            </div>
          </div>

          <a class="carousel-control-prev" href="#carousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Anterior</span>
          </a>
          <a class="carousel-control-next" href="#carousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Próximo</span>
          </a>
        </div>

      </div>
     
    </main> 

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="node_modules/jquery/dist/jquery.js"></script>
    <script src="node_modules/@popperjs/core/dist/umd/popper.js"></script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.js"></script>
  </body>
</html>